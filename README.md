# Генератор графов зависимости файлов в Git

Этот скрипт на Python предназначен для создания визуализации истории коммитов для указанного файла в Git-репозитории. Он поддерживает два формата вывода: **Graphviz** (для PDF, PNG, SVG) и **Mermaid** (текстовый формат для интеграции в Markdown или веб-среды).

---

## Возможности

- Извлечение истории коммитов для конкретного файла в Git.
- Построение графа зависимости между коммитами и файлами.
- Поддержка форматов вывода:
  - **Graphviz**: PDF, PNG, SVG и другие.
  - **Mermaid**: текстовый код для интеграции в документацию.
  
---

## Требования

### 1. Установите Git
Убедитесь, что Git установлен на вашем компьютере. Проверьте это командой:
```bash
git --version
```
### 2. Установите Python-библиотеки
Установите необходимые Python-библиотеки с помощью pip:
```bash
pip install graphviz
```

---

## Использование

### 1. Запуск скрипта
Скрипт генерирует граф в двух форматах: **Graphviz** и **Mermaid**.
```bash
python script.py --repo-path <путь_к_git_репозиторию> --target-file <файл_для_анализа> --output-file <путь_к_mermaid_файлу> --output-graph <выходной_файл_с_расширением>
```
### 2. Описание аргументов
- `--repo-path`: Путь к Git-репозиторию.
- `--target-file`: Имя файла, для которого нужно построить граф зависимости.
- `--output-file`: Путь и имя выходного файла Mermaid (например, `graph.mmd`).
- `--output-graph`: Путь и имя выходного файла (например, `graph.pdf`, `graph.png`).

---

## Примеры

### Генерация PDF-графа (Graphviz):
```bash
python script.py --repo-path /path/to/repo --target-file main.py --output-file graph.mmd --output-graph graph.pdf
```

### Генерация PNG-графа (Graphviz):
```bash
python script.py --repo-path /path/to/repo --target-file main.py --output-file graph.mmd --output-graph graph.png
```

---

## Выводы

1. **Graphviz (PDF, PNG, SVG):**
   - Узлы: Коммиты и файлы.
   - Рёбра: Связи между коммитами и файлами, которые они изменяли.
   - Вывод сохраняется в файл, указанный в `--output-graph`.

2. **Mermaid:**
   - Генерируется текстовый код, который можно вставить в Markdown или визуализировать в веб-инструментах.
   - Пример кода Mermaid:
     ```mermaid
     graph TD
         8036fcea31b81e2eedca45a111ce710f50aa5304 --> main.py
         743a45553761ec6d5cd2ef5e3b2bc5e7ceee39cb --> main.py
     ```

---

## Решение проблем

### Распространённые ошибки:
1. **Graphviz не найден:**
   - Убедитесь, что Graphviz установлен и добавлен в PATH.
   - Проверьте командой:
     ```bash
     dot -V
     ```

2. **Git-репозиторий не найден:**
   - Проверьте, что путь в `--repo-path` указывает на корректный Git-репозиторий.

3. **Указанный файл отсутствует:**
   - Убедитесь, что файл в `--target-file` существует в репозитории.
